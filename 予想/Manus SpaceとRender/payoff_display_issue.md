# 払戻金表示問題の分析

## 現状

### データベースの状態
- **payoffsテーブル**: 2026-01-20のデータあり（312件）
  - 浜名湖: 12レース分
  - 津: 12レース分
  - 尼崎: 12レース分
  - 徳山: 12レース分
  - 丸亀: 4レース分

- **bet_typeの種類**: win, exacta, quinella, quinella_place, trifecta, trio

### ダッシュボード表示
- **単勝払戻**: 浜名湖、津など一部の場で表示されている ✅
- **2連複払戻**: 全て「-」で表示されていない ❌

### 問題点
1. **戸田、常滑、びわこ、宮島、下関**などの場で払戻金データがない
   - これはレース結果収集バッチが一部の場しか収集していない可能性

2. **2連複払戻が表示されない**
   - api.pyでは `payoffs.get('2f', [])` で取得しようとしている
   - しかしDBのbet_typeは `quinella` であり、`2f` ではない
   - これが原因で2連複払戻が表示されない

## 修正案

### api.py の修正
```python
# 現在のコード（309行目）
'quinella': payoffs.get('2f', [])

# 修正後
'quinella': payoffs.get('quinella', [])
```

### レース結果収集の確認
- boatrace-result-collectionまたはodds_workerの結果収集ロジックを確認
- 全場の結果を収集するように修正が必要
