# 払戻金表示問題の原因分析

## 問題の概要

1. **一部の場で払戻金データがない**
   - 浜名湖、津、尼崎、徳山、丸亀: データあり
   - 戸田、常滑、びわこ、宮島、下関、若松、大村: データなし

2. **2連複払戻が表示されない**
   - api.pyで `payoffs.get('2f', [])` を使用
   - DBのbet_typeは `quinella` であり `2f` ではない

## 原因

### 1. 公式サイトの日付問題
- システム日付: 2026年1月20日
- スクレイピング日付: 2025年1月19日（-1年変換）
- **問題**: 戸田は2025年1月19日に開催がなかった可能性

### 2. 開催日程の不一致
- 公式サイトで `https://www.boatrace.jp/owpc/pc/race/raceresult?rno=1&jcd=02&hd=20250119` を確認
- 結果: 「データがありません」
- 浜名湖 `jcd=06` は結果あり

### 3. api.pyのbet_type不一致
```python
# 現在のコード（309行目）
'quinella': payoffs.get('2f', [])

# 正しいコード
'quinella': payoffs.get('quinella', [])
```

## 修正案

### 修正1: api.pyのbet_type修正
```python
# 309行目を修正
'quinella': payoffs.get('quinella', [])
```

### 修正2: 日付変換ロジックの見直し
- 現在: システム日付が2026年の場合、-1年して2025年でスクレイピング
- 問題: 2025年と2026年で開催場が異なる
- 対策: 実際の開催日程に合わせてスクレイピング

### 修正3: 過去のレースタブの確認
- 「過去のレース」タブでも払戻金が表示されない問題
- 昨日のデータも確認が必要

## 確認事項

1. 2025年1月19日の開催場一覧
2. 2026年1月20日の開催場一覧
3. 両者の一致/不一致
