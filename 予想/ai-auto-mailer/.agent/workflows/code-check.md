---
description: 競艇システムのコード変更前に必ずAPI仕様書を確認する
---

# コード変更前チェックリスト

このプロジェクトのPythonコードを変更する前に、必ず以下を実行してください。

## 1. API仕様書を確認

```
view_file: .agent/docs/API_SPEC.md
```

**特に確認すべき点:**
- 使用するメソッド名が正しいか
- 引数の型（str/int）が正しいか
- 戻り値の型が想定通りか

## 2. よくあるミス（必読）

| ❌ 間違い | ✅ 正解 |
|----------|---------|
| `get_connection()` | `get_db_connection()` |
| `stadium_code` を int で渡す | 文字列 `"01"` 形式 |
| `race_date` を datetime で渡す | 文字列 `"20260126"` or `"2026-01-26"` |

## 3. 変更後の確認

- [ ] 新しいメソッドを呼び出す場合、API_SPEC.mdに記載があるか確認
- [ ] 引数の型がAPI_SPEC.mdと一致しているか確認
- [ ] テスト実行またはログ確認で動作確認
